<!doctype html>
<html lang="eng">

<head>
  <meta charset="utf-8">
  <meta name="description" content="Malnutrition Screening Test">
  <title>Malnutrition Screening Test</title>
  <link rel="stylesheet" type="text/css" href="css/basic_style.css">
</head>

<body>
  <h1>Malnutrition Screening Test</h1>

  <form id="questionForm">
    <div id="question">
      <div class="question1">
        <div id="questionText">
          <label for="q1">1.)&nbsp;&nbsp; Do you ever have trouble breathing?</label>
        </div>
        <div id="options">
          <select id="q1">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question2">
        <div id="questionText">
          <label for="q2">2.)&nbsp;&nbsp; Do you ever experience light-headedness, or ever feel faint?</label>
        </div>
        <div id="options">
          <select id="q2">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question3">
        <div id="questionText">
          <label for="q3">3.)&nbsp;&nbsp; Are you noticing increased amounts of hair loss, or that your hair feels brittle and dry?</label>
        </div>
        <div id="options">
          <select id="q3">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question4">
        <div id="questionText">
          <label for="q4">4.)&nbsp;&nbsp; Do you ever experience tingling or numbness in the joints, feet, or hands?</label>
        </div>
        <div id="options">
          <select id="q4">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question5">
        <div id="questionText">
          <label for="q5">5.)&nbsp;&nbsp; If you are a woman, do you ever experience menstrual issue, such as missing periods or unusually heavy cycles?</label>
        </div>
        <div id="options">
          <select id="q5">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question6">
        <div id="questionText">
          <label for="q6">6.)&nbsp;&nbsp;Do you suffer from heart palpatations?</label>
        </div>
        <div id="options">
          <select id="q6">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question7">
        <div id="questionText">
          <label for="q7">7.)&nbsp;&nbsp; Do you suffer from cracking of the skin or inflammation at the corners of your mouth?</label>
        </div>
        <div id="options">
          <select id="q7">
            <option value="0">No</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question8">
        <div id="questionText">
          <label for="q8">8.)&nbsp;&nbsp; Do you suffer from frequent or chronic diarrhea?</label>
        </div>
        <div id="options">
          <select id="q8">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question9">
        <div id="questionText">
          <label for="q9">9.)&nbsp;&nbsp; Do you find yourself having a lack of appetite, even after not eating for extended periods?</label>
        </div>
        <div id="options">
          <select id="q9">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question10">
        <div id="questionText">
          <label for="q10">10.)&nbsp;&nbsp; Do you suffer from frequent muscle cramps?</label>
        </div>
        <div id="options">
          <select id="q10">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question11">
        <div id="questionText">
          <label for="q11">11.)&nbsp;&nbsp; Do you suffer from frequent constipation?</label>
        </div>
        <div id="options">
          <select id="q11">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question12">
        <div id="questionText">
          <label for="q12">12.)&nbsp;&nbsp; Do you suffer from frequent nauseousness or vomiting?</label>
        </div>
        <div id="options">
          <select id="q12">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question13">
        <div id="questionText">
          <label for="q13">13.)&nbsp;&nbsp;Are you more irritable, apathetic, or otherwise suffer from rapid changes in mood?</label>
        </div>
        <div id="options">
          <select id="q13">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question14">
        <div id="questionText">
          <label for="q14">14.)&nbsp;&nbsp;Do you suffer from red scaly rashes on the body, especially on the face and/or scalp?</label>
        </div>
        <div id="options">
          <select id="q14">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>
    <div id="question">
      <div class="question15">
        <div id="questionText">
          <label for="q15">15.)&nbsp;&nbsp; Does it takes more extended periods of time to heal from small wounds, like cuts or scrapes?</label>
        </div>
        <div id="options">
          <select id="q15">
            <option value="0">Never</option>
            <option value="1">Sometimes</option>
            <option value="2">Often</option>
            <option value="3">Always</option>
          </select>
        </div>
      </div>
    </div>
    <br>

    <br>
    <div class="submitButton">
      <label for="submitButton"></label>
      <input type="submit" value="Submit and Score Test">
    </div>
  </form>

  <script type="text/javascript">
    document.getElementById('questionForm').addEventListener('submit', estimateTotal);

    function estimateTotal(event) {
      event.preventDefault();
      console.log("submit button works, and prints the points to the console")

      symptoms = "";
      symptomList = "";
      symptomNum = 0;
      deficiency = "";

      biotinSymptom = "Vitamin B4 (Biotin), characterized by tingling and numbness in the extremities\n\n";
      riboSymptom = "Vitamin B2 (Riboflavin) characterized by dry, cracked, and inflamed skin around the corners of the mouth\n\n";
      niaCobalaSymptom = "Vitamin B3 (Niacin) or Vitamin B12 (Cobalamin), characterized by frequent or chronic diarrhea\n\n";
      phosMagSodSymptom = "Phosphorus, Magnesium, or Sodium, characterized by a lack of appetite even after long periods of fasting\n\n";
      potassiumSymptom = "Potassium, characterized by numbness and muscle cramps\n\n";
      thiaminSymptom = "Vitamin B1 (Thiamin), characterized by frequent or chronic constipation\n\n";


      var ques1 = document.getElementById('q1').value,
        ques2 = document.getElementById('q2').value,
        ques3 = document.getElementById('q3').value,
        ques4 = document.getElementById('q4').value,
        ques5 = document.getElementById('q5').value,
        ques6 = document.getElementById('q6').value,
        ques7 = document.getElementById('q7').value,
        ques8 = document.getElementById('q8').value,
        ques9 = document.getElementById('q9').value,
        ques10 = document.getElementById('q10').value,
        ques11 = document.getElementById('q11').value,
        ques12 = document.getElementById('q12').value,
        ques13 = document.getElementById('q13').value,
        ques14 = document.getElementById('q14').value,
        ques15 = document.getElementById('q15').value;

      var points = 0;

      for (q1val = 0; q1val <= 3; q1val++) {
        if (ques1 == q1val) {
          points += q1val;
        }
      }
      for (q2val = 0; q2val <= 3; q2val++) {
        if (ques2 == q2val) {
          points += q2val;
        }
      }
      for (q3val = 0; q3val <= 3; q3val++) {
        if (ques3 == q3val) {
          points += q3val;
        }
      }
      for (q4val = 0; q4val <= 3; q4val++) {
        if (ques4 == q4val) {
          points += q4val;
          if (q4val >= 2) {
            symptoms += biotinSymptom;
            symptomNum++;
          }
        }
      }
      for (q5val = 0; q5val <= 3; q5val++) {
        if (ques5 == q5val) {
          points += q5val;
        }
      }
      for (q6val = 0; q6val <= 3; q6val++) {
        if (ques6 == q6val) {
          points += q6val;
        }
      }
      for (q7val = 0; q7val <= 3; q7val++) {
        if (ques7 == q7val) {
          points += q7val;
          if (q7val >= 2) {
            symptoms += riboSymptom;
            symptomNum++;
          }
        }
      }
      for (q8val = 0; q8val <= 3; q8val++) {
        if (ques8 == q8val) {
          points += q8val;
          if (q8val >= 2) {
            symptoms += niaCobalaSymptom;
            symptomNum++;
          }
        }
      }
      for (q9val = 0; q9val <= 3; q9val++) {
        if (ques9 == q9val) {
          points += q9val;
          if (q9val >= 2) {
            symptoms += phosMagSodSymptom;
            symptomNum++;
          }
        }
      }
      for (q10val = 0; q10val <= 3; q10val++) {
        if (ques10 == q10val) {
          points += q10val;
          if (q10val >= 2) {
            symptoms += potassiumSymptom;
            symptomNum++;
          }
        }
      }
      for (q11val = 0; q11val <= 3; q11val++) {
        if (ques11 == q11val) {
          points += q11val;
          if (q11val >= 2) {
            symptoms += thiaminSymptom;
            symptomNum++;
          }
        }
      }
      for (q12val = 0; q12val <= 3; q12val++) {
        if (ques12 == q12val) {
          points += q12val;
        }
      }
      for (q13val = 0; q13val <= 3; q13val++) {
        if (ques13 == q13val) {
          points += q13val;
        }
      }
      for (q14val = 0; q14val <= 3; q14val++) {
        if (ques14 == q14val) {
          points += q14val;
        }
      }
      for (q15val = 0; q15val <= 3; q15val++) {
        if (ques15 == q15val) {
          points += q15val;
        }
      }

      /**           if(ques2 == 1){points+=alwaysVal;}
                      if(ques3 === "YES"){points++; symptoms += "Vitamin B4 (Biotin)\n";}
                      if(ques4 === "YES"){points++;}
                      if(ques5 === "YES"){points++;}
                      if(ques6 === "YES"){points++;}
                      if(ques7 === "YES"){points++; symptoms += "Vitamin B2 (Riboflavin)\n";}
                      if(ques8 === "YES"){points++; symptoms += "Vitamin B3 (Niacin), or Vitamin B12 (Cobalamin)\n";}
                      if(ques9 === "YES"){points++; symptoms += "Phosphorus, Magnesium, or Sodium\n";}
                      if(ques10 === "YES"){points++; symptoms += "Potassium\n";}
                      if(ques11 === "YES"){points++; symptoms+= "Vitamin B1 (Thiamine)\n";}
                      if(ques12 === "YES"){points++;}
                      if(ques13 === "YES"){points++;}
                      if(ques14 === "YES"){points++;}
                      if(ques15 === "YES"){points++;}
                      console.log(points);
           */
      /* if (symptomNum > 0) {
        symptomList = "Based on your answers it is possible that your are deficient in the following nutrients:\n\n" + symptoms;
      }

      if (points <= 2) {
        window.alert("Your score : " + points + "\n\nBased on your score it is unlikely that you are suffering from Malnutrition" + symptomList);
      } else if (points <= 3) {
        window.alert("your score : " + points + "\n\n Based on this score it is possible that you are suffering from Malnourishment.\n\n" + symptomList);
      } else if (points <= 15) {
        window.alert("Your score : " + points + "\n\n It is likely that you are suffering from Malnutrition.\n Take a close look at what your symptoms specify you are deficient in.\n\n" + symptomList);
      } else if (points <= 25) {
        window.alert("Your score : " + points + "\n\n You are suffering from many of the symptoms of Malnourishment.\n Take a close look at what your symptoms specify you are deficient in and consider consulting a Physician.\n\n" + symptomList);
      } else {
        window.alert("Your score : " + points + "\n\n You are suffering from extreme Malnourishment.\n make a note of what your symptoms specify that you are deficient in and make an appointment to visit a physician for assistance as soon as possible.\n\n" + symptomList);
      }
      */
	window.open("file:///home/jesseg/DiagnosticScreeningTests/src/results.html?points=" + points +"?from=malnutrition", "_self");
    }
  </script>

</body>

</html>
